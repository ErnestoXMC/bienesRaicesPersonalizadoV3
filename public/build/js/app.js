const body=document.querySelector("body");let dar="no";function eventListeners(){document.querySelector(".mobile-menu").addEventListener("click",mostrarMenu);document.querySelector(".dark").addEventListener("click",darkMode);document.querySelectorAll('input[name="contacto[contacto]"]').forEach((e=>e.addEventListener("click",mostrarCampos)));const e=document.querySelector("#nombre"),t=document.querySelector("#mensaje"),a=document.querySelector("#precio"),o=document.querySelector("#opciones");e&&t&&a&&o&&(e.addEventListener("blur",validarFormulario),t.addEventListener("blur",validarFormulario),a.addEventListener("blur",validarFormulario),o.addEventListener("input",validarFormulario))}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".exito");e&&setTimeout((()=>{e.remove()}),5e3),"si"===localStorage.getItem("dark-mode")&&body.classList.add("dark-mode"),eventListeners()}));const contacto={nombre:"",mensaje:"",precio:"",tipo:""},btnEnviar=document.querySelector("#enviar");function mostrarMenu(){const e=document.querySelector(".navegacion");e.classList.contains("nav-aparecer")?e.classList.remove("nav-aparecer"):e.classList.add("nav-aparecer")}function darkMode(e){e.preventDefault(),body.classList.contains("dark-mode")?(body.classList.remove("dark-mode"),dar="no"):(body.classList.add("dark-mode"),dar="si"),localStorage.setItem("dark-mode",dar)}function confirmDelete(e){Swal.fire({title:"¿Seguro que Deseas Eliminarlo?",text:"No se podrá recuperar lo eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#023e8a",cancelButtonColor:"#ef233c",confirmButtonText:"Si"}).then((t=>{t.isConfirmed&&(Swal.fire({title:"Eliminado!",text:"Eliminado Correctamente",icon:"success"}),setTimeout((()=>{document.getElementById("deleteForm-"+e).submit()}),1200))}))}function mostrarCampos(e){const t=e.target.value,a=document.querySelector("#contacto");if("telefono"===t){a.innerHTML='\n            <div class="campo_padre">\n                <label for="telefono">Ingresa Tu Teléfono</label>\n                <input type="tel" placeholder="Ej. 987654321" id="telefono" name="contacto[telefono]">\n            </div>\n\n            <div class="campo_padre">\n                <label for="fecha">Fecha</label>\n                <input type="date" id="fecha" name="contacto[fecha]">\n            </div>\n            <div class="campo_padre">\n                <label for="hora">Hora</label>\n                <input type="time" id="hora" min="09:00" max="18:00" name="contacto[hora]">\n            </div>\n        ';const e=document.querySelector("#telefono"),t=document.querySelector("#fecha"),o=document.querySelector("#hora");e.focus(),e.addEventListener("blur",validarFormulario),t.addEventListener("blur",validarFormulario),o.addEventListener("blur",validarFormulario),contacto.telefono="",contacto.fecha="",contacto.hora="","email"in contacto&&delete contacto.email}else{a.innerHTML='\n            <div class="campo_padre">\n                <label for="email">E-mail</label>\n                <input type="email" placeholder="Tu Email" id="email" name="contacto[email]">\n            </div>\n        ';const e=document.querySelector("#email");e.focus(),e.addEventListener("blur",validarFormulario),contacto.email="","fecha"in contacto&&"hora"in contacto&&"telefono"in contacto&&(delete contacto.fecha,delete contacto.hora,delete contacto.telefono)}}function validarFormulario(e){let t=e.target.name.split("[")[1].split("]")[0];if(""===e.target.value.trim()){return mostrarAlerta(`El campo ${t} es obligatorio`,"error",e.target),contacto[t]="",void habilitarBtnEnviar(contacto)}if(!validarEmail(e.target.value)&&"email"===e.target.id){return mostrarAlerta("El formato del Email no es valido","error",e.target),contacto[t]="",void habilitarBtnEnviar(contacto)}if(!validarTelefono(e.target.value)&&"telefono"===e.target.id){return mostrarAlerta("El formato del Telefono no es valido","error",e.target),contacto[t]="",void habilitarBtnEnviar(contacto)}if(!validarPrecio(e.target.value)&&"precio"===e.target.id){return mostrarAlerta("El formato del Precio no es valido","error",e.target),contacto[t]="",void habilitarBtnEnviar(contacto)}eliminarAlerta(e.target.parentElement),contacto[t]=e.target.value.trim(),habilitarBtnEnviar(contacto)}function mostrarAlerta(e,t,a){eliminarAlerta(a.parentElement);const o=document.createElement("DIV");"error"===t?o.classList.add("alerta","error"):o.classList.add("alerta","exito"),o.textContent=e,a.parentElement.appendChild(o)}function eliminarAlerta(e){const t=e.querySelector(".alerta");t&&t.remove()}function habilitarBtnEnviar(e){Object.values(e).includes("")?(btnEnviar.classList.add("btn-verde-deshabilitado"),btnEnviar.classList.remove("btn-verde"),btnEnviar.disabled=!0):(btnEnviar.classList.add("btn-verde"),btnEnviar.classList.remove("btn-verde-deshabilitado"),btnEnviar.disabled=!1)}function validarEmail(e){return/^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(e)}function validarTelefono(e){return/^\d{5,15}$/.test(e)}function validarPrecio(e){return/^\d{4,9}$/.test(e)}